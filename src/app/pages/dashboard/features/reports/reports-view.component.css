:host {
  display: block;
  font-family: 'Inter', sans-serif;
  color: #0f172a;
}

.reports-container {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding-bottom: 2rem;
  transition: all 0.3s ease;
}

/* --- 1. Header --- */
.reports-header {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  gap: 1rem;
  margin-bottom: 0.5rem;
}

.reports-header h2 {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 0;
}

.header-controls {
  display: flex;
  gap: 10px;
}

.control-select {
  padding: 8px 12px;
  border: 1px solid #e2e8f0;
  border-radius: 6px;
  background: #fff;
  color: #334155;
  font-size: 0.85rem;
  outline: none;
}

.btn-export {
  padding: 8px 16px;
  background: #f1f5f9;
  border: 1px solid #e2e8f0;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.85rem;
  cursor: pointer;
  color: #334155;
  display: flex;
  align-items: center;
  gap: 6px;
}

/* --- 2. KPI Cards --- */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
}

.kpi-card {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 1.5rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.02);
}

.kpi-icon {
  width: 48px;
  height: 48px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
}
.kpi-icon.blue { background: #eff6ff; color: #2563eb; }
.kpi-icon.indigo { background: #eef2ff; color: #4f46e5; }
.kpi-icon.green { background: #f0fdf4; color: #16a34a; }
.kpi-icon.orange { background: #fff7ed; color: #ea580c; }

.kpi-info {
  display: flex;
  flex-direction: column;
}

.kpi-label { font-size: 0.75rem; color: #64748b; margin-bottom: 4px; }
.kpi-value { font-size: 1.5rem; font-weight: 700; color: #0f172a; }

/* --- 3. Main Grid --- */
.reports-grid {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 1.5rem;
}

.tile {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,0.02);
}

/* Chart Section */
.chart-section {
  display: flex;
  flex-direction: column;
}

.tile-header {
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #e2e8f0;
}

.tile-header h3 { margin: 0; font-size: 0.95rem; font-weight: 600; }

.chart-content {
  padding: 1.5rem;
  flex: 1;
}

.chart-title {
  margin: 0 0 1rem 0;
  font-size: 1.1rem;
  font-weight: 700;
}

.chart-wrapper {
  min-height: 300px;
}

.chart-footer-stats {
  display: flex;
  justify-content: space-around;
  padding: 1.5rem;
  border-top: 1px solid #e2e8f0;
  background: #f8fafc;
}

.stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.stat-label { font-size: 0.75rem; color: #64748b; }
.stat-val { font-size: 1.1rem; font-weight: 700; }
.stat-val.success { color: #16a34a; }

/* Side Column */
.side-column {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.green-header { background: #22c55e; color: white; display: flex; justify-content: space-between; align-items: center; border: none; }
.orange-header { background: #f97316; color: white; display: flex; justify-content: space-between; align-items: center; border: none; }

.dots { cursor: pointer; opacity: 0.8; }
.tile-body { padding: 1rem 1.5rem; }

/* Order Summary Rows */
.summary-row {
  display: flex;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px dashed #e2e8f0;
  font-size: 0.9rem;
}
.summary-row:last-child { border-bottom: none; }
.row-label { color: #64748b; }
.row-val { font-weight: 600; }

/* Inventory Rows */
.inventory-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px dashed #e2e8f0;
}
.inventory-row:last-child { border-bottom: none; }

.inv-name { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: #475569; }
.dot { width: 8px; height: 8px; border-radius: 50%; }
.inv-status { font-weight: 600; font-size: 0.85rem; }

/* --- Responsive --- */
@media (max-width: 1024px) {
  .kpi-row { grid-template-columns: 1fr 1fr; }
  .reports-grid { grid-template-columns: 1fr; }
}

@media (max-width: 600px) {
  .kpi-row { grid-template-columns: 1fr; }
  .header-controls { flex-wrap: wrap; justify-content: center; }
  .chart-footer-stats { flex-wrap: wrap; gap: 1rem; }
}

/* =========================================
   ðŸŒ™ DARK MODE OVERRIDES (ROBUST)
   ========================================= */
/* Supports BOTH manual input [isDarkMode] AND global body class */

:host-context(.dark-mode) .reports-container,
.reports-container.dark-mode-active {
  color: #f8fafc;
}

/* 1. Header & Controls */
:host-context(.dark-mode) .reports-header h2,
.reports-container.dark-mode-active .reports-header h2 {
  color: #f1f5f9;
}

:host-context(.dark-mode) .control-select,
:host-context(.dark-mode) .btn-export,
.reports-container.dark-mode-active .control-select,
.reports-container.dark-mode-active .btn-export {
  background: #1e293b;       
  border-color: #334155;     
  color: #e2e8f0;            
}

/* 2. KPI Cards */
:host-context(.dark-mode) .kpi-card,
.reports-container.dark-mode-active .kpi-card {
  background: #1e293b; /* Dark Navy Background */
  border-color: #334155;
  box-shadow: none;
}

:host-context(.dark-mode) .kpi-value,
.reports-container.dark-mode-active .kpi-value {
  color: #f1f5f9; /* White Text */
}

:host-context(.dark-mode) .kpi-label,
.reports-container.dark-mode-active .kpi-label {
  color: #94a3b8; /* Slate Text */
}

/* Dark Mode Icons */
:host-context(.dark-mode) .kpi-icon.blue, .reports-container.dark-mode-active .kpi-icon.blue   { background: rgba(37, 99, 235, 0.2); color: #60a5fa; }
:host-context(.dark-mode) .kpi-icon.indigo, .reports-container.dark-mode-active .kpi-icon.indigo { background: rgba(79, 70, 229, 0.2); color: #818cf8; }
:host-context(.dark-mode) .kpi-icon.green, .reports-container.dark-mode-active .kpi-icon.green  { background: rgba(22, 163, 74, 0.2); color: #4ade80; }
:host-context(.dark-mode) .kpi-icon.orange, .reports-container.dark-mode-active .kpi-icon.orange { background: rgba(234, 88, 12, 0.2); color: #fb923c; }

/* 3. Tiles & Grids */
:host-context(.dark-mode) .tile,
.reports-container.dark-mode-active .tile {
  background: #1e293b; /* Dark Navy Background */
  border-color: #334155;
}

:host-context(.dark-mode) .tile-header,
.reports-container.dark-mode-active .tile-header {
  border-bottom-color: #334155;
}

:host-context(.dark-mode) .tile-header h3,
.reports-container.dark-mode-active .tile-header h3 {
  color: #f1f5f9;
}

:host-context(.dark-mode) .chart-title,
.reports-container.dark-mode-active .chart-title {
  color: #f1f5f9;
}

/* 4. Chart Footer */
:host-context(.dark-mode) .chart-footer-stats,
.reports-container.dark-mode-active .chart-footer-stats {
  background: #0f172a;      
  border-top-color: #334155;
}

:host-context(.dark-mode) .stat-val,
.reports-container.dark-mode-active .stat-val {
  color: #f1f5f9;
}

:host-context(.dark-mode) .stat-label,
.reports-container.dark-mode-active .stat-label {
  color: #94a3b8;
}

/* 5. Summary & Inventory Rows */
:host-context(.dark-mode) .summary-row,
:host-context(.dark-mode) .inventory-row,
.reports-container.dark-mode-active .summary-row,
.reports-container.dark-mode-active .inventory-row {
  border-bottom-color: #334155; 
}

:host-context(.dark-mode) .row-label,
:host-context(.dark-mode) .inv-name,
.reports-container.dark-mode-active .row-label,
.reports-container.dark-mode-active .inv-name {
  color: #cbd5e1;
}

:host-context(.dark-mode) .row-val,
:host-context(.dark-mode) .inv-status,
.reports-container.dark-mode-active .row-val,
.reports-container.dark-mode-active .inv-status {
  color: #f1f5f9;
}